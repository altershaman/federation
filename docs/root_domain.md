###### :green_book: root_domain.md

---
# Как начать описание БА в SEAF

Бизнес-архитектура (БА) -- это система социально-экономических отношений между Участниками, осуществляющими обмен Ресурсами  для достижения своих Целей с помощью создания и использования Продуктов. [Подробнее во вводной статье](/docs/seaf.ba.main)

БА с точки зрения каждого Учстника делится на две большие части:
* внешнее окружение
* внутреннее устройство

Поэтому описание БА следует начинать с декларации "себя" и "своей" точки зрения.

```yaml
seaf.ba.parties:                        # Раздел манифеста с декларациями объектов-Участников

    party_id:                           # Идентификатор Участника
        title: Наименование Участника   # Обязательный атрибут объекта-Участника
```
`party_id` представляет из себя:
* идентификатор архитектурного объекта, соответствующего Участнику
* "точку зрения", отделяющую внутреннее и внешнее
* домен -- область интереса (влияния) Участника на социально-экономическую систему, то есть "его БА"

**ВСЕ** объекты архитектуры Участника с **ЕГО** точки зрения объявляются внутри этого домена. Примеры:
* `party_id.sales` -- департамент продаж Участника
* `party_id.sales.retail` -- отдел розницы в департаменте продаж Участника
* `party_id.project_team` -- команда проекта Участника
* `party_id.head_product` -- основной продукт Участника
* `party_id.production` -- производственный процесс Участника
* `party_id.clients` -- клиенты Участника
* `party_id.clients.segment` -- клиентский сегмент Участника
* `party_id.partners` -- партнеры Участника
* `party_id.partners.partner_id` -- конкретный партнер Участника

SEAF-CORE автоматически анализирует доменные идентификаторы объектов сущности `seaf.ba.parties` из всех подключенных манифестов и определяет корневые домены. В нашем примере -- это будет `party_id`, поскольку нет других идентификаторов, которые бы стояли перед `party_id` и  `party_id` является идентификатором объекта-Участника.

Корневой домен не обязательно должен представлять из себя идентификатор первого уровня.

Корневой домен автоматически выводится в меню Архитектура/Архитектура Бизнеса/<Наименование Участника>

### Несколько корневых доменов

Если в манифестах найдется более одного корневого домена, то они все будут выведены в меню. Это будет означать, что вы можете рассмотреть БА с нескольких **разных** точек зрения.

Когда вы работаете с более чем одной точкой зрения, вам придется иметь дело с описанием таких реальных объектов, которые находятся в поле зрения нескольких Участников. Предположим, что у нас имеются две архитектуры -- Участника `party_a` и Участника `party_b`. Тогда:
* `party_a.clients.corp.vostok` -- Корпорация "Восток" с т.з. Участника А
* `party_b.pao_vostok` -- Корпорация "Восток" с т.з. Участника А
* `party_a.partners.party_b` -- Участник В с т.з. Участника А
* `party_b.party_a` -- Учаятник А с т.з. Участника В

То есть правильным подходом к описанию является постоянное нахождение в определенной точке зрения. Один и тот же реальный объект **должен** иметь различные описания с различных точек зрения.

Это позволяет сохранить целостность описания в пределах одной точки зрения, а значит свободно работать с несколькими точками зрения. Также следует понимать, что Корпорация "Восток" может играть разные роли в архитектурах Участников А и В.

:warning: Связь между объектами различных корневых доменов в случае необходимости, например при разработке интеграционного проекта Участникоа А и В, должна осуществляться через механизм "синонимов" (aliases) и "фасадов" (facades) -- TBD

### Субдомены как точка зрения 

Если ваша архитектура обширна, то в управлении ею, скорее всего, существует более чем одна заинтересованная сторона. То есть при описании внутренней архитектуры Участника А может возникнуть потребность в определении дополнительных субдоменов и точек зрения, например, Департамента рисков. Поскольку Департамент рисков не является корневым доменом, то **его** точку зрения необходимо объявить вручную:
```yaml
seaf.ba.parties:                    # Департамент рисков -- тоже
    party_a.deps.risk_mng:
         title: Департамент рисков


seaf.self:                          # Раздел манифеста для декларации self-контекста
    - party_a.deps.risk_mng         # Идентификатор Участника со "своей" точкой зрения
```
После объявления дополнительной точки зрения, она появится в меню.

### Внутреннее и внешнее

Для отделения того, что Участник относит ко внешнему окружению, а что ко внутреннуму устройству используется атрибут `is_part_of` [подробнее...](/docs/seaf.ba.ownership) 
