### Федеративная БА

Федерация -- это соглашение. Для поддержания федеративных свойств используются домены и справочники.

БА как система может обладать эмерджентными свойствами, которые Участники могли бы обратить к своей пользе. Для этого необходимо достижение соглашения между Участниками о некоторой совместимости взглядов на БА при сохранении автономности управления и уровне конфиденциальности.

Участник обозначает себя доменом любого уровня. 

Если Участник считает себя автономным при управлении своей БА, то он выбирает домен первого уровня (самостоятельно обеспечивает уникальность идентификатора среди контрагентов федерации). Далее определяет субдомены  более низких уровней  в соответствии со своим представлением о БА.

Разделение на внутреннее и внешнее осуществляется путем установления отношения relates
Все, что relates to seaf.ba.self.* -- внутреннее. Остальное seaf.ba.self.*.** -- внешнее относительно seaf.ba.self.*

один реальный объект имеет различные описания в различных доменах

существует согласованный справочник (это тоже домен) и другие домены умеют переиспользовать объекты из справочника (ссылаться на него или делать свою модификацию? Скорее модификацию, чтобы обеспечить независимость в случае если справочник умрет).

Справочник -- это домен, который Участники договорились использовать как общий. Участники могут дополнять описание внутри своего домена, но справочник этого не видит. Справочник -- это фасады - а значит там есть объекты описанные в каких-то доменах.

Участники отдают объекты в справочник. Ответственный за справочник осуществляет слияние описаний одного и тогоже объекта.
Как образуется взгляд сверху? Это тоже справочник?

Отдаем копию и ее же переиспользуем - это тоже самое, что у справочника есть хозяин. А что если справочник собирается динамически из тех архитектур, которые доступны - это бред, поскольку тогда нужно импортить все архитектуры.

Есть задачи:
* общий справочник и переиспользование объектов
* хеликоптер вью
* разделение точек зрения
* разделение на внешнее и внутреннее
* разделение на фасад и закрытое
* обеспечение автономности и зацепляемости

Кейс:
* одна компания (как минимум один селф)
    * монолит
    * распределенное управление
    * зонтичное управление
* несколько независимых контрагентов
* несколько под одним зонтиком "зонтика"

Есть объем доступа к архитектурам:
* в своем домене
* в соседних доменах
* в вышестоящем домене

В своем домене доступно свое (внутреннее и внешнее) и фасады соседних доменов и фасады вышестоящих доменов
между соседями и вышестоящими могут возникать общие справочники

Зачем мне использовать справочники:
* для того, чтобы не описывать то, что уже описано (дополнить своими деталями)
* для обеспечения целостности хеликоптер вью
    * хеликоптер вью нужен независимым Участникам для синергии
    * зонтику для интеграции

Для обеспечения это связанности - -нужны контракты - правила
для обеспечения автономности - иерархия доменов
селф -  для обозначения точки зрения и разделения на внутреннее и внешнее относительно селф (для просмотра соседей или для просмотра частей)
фасад - для обозначения открытоко и закрытого
* открытое может ссылаться на справочный объект, чтобы при формировании хеликоптер вью, объект индивидуальный подменялся объектом общим.

Хеликоптер вью - фасады + унифицирующий справочник

огород описал себя, ферма описала огород:
* ферма использовала огород из справочника -- тогда огород в справочнике содержит два описания (нахер это надо). 
* ферма использовала огород из справочника, но скрыла частное описание от внешнего наблюдателя
* ферма использовала огород не из справочника -- частное скрытое определение и оно не попало в справочник, более того "наверху" не знают что ферма имеет отношения с огородом


Если Участник находится в области влияния более
